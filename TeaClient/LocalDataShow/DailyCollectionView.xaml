<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
               NavigationPage.HasNavigationBar="False"
             x:Class="TeaClient.LocalDataShow.DailyCollectionView">
    <ContentPage.Content>
        <StackLayout Padding="10" VerticalOptions="FillAndExpand" HorizontalOptions="FillAndExpand">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <!-- Column for Back Button -->
                    <ColumnDefinition Width="*" />
                    <!-- Column for Header Name (centered) -->
                    <ColumnDefinition Width="Auto" />
                    <!-- Column for Total Record -->
                </Grid.ColumnDefinitions>

                <!-- Back Button -->
                <Button x:Name="BackBtn"
            Grid.Column="0"
            VerticalOptions="Center"
            IsVisible="true"
            Text="Back"
            TextColor="White"
            BackgroundColor="#008CBA"
            BorderColor="Gray"
            BorderWidth="1.5"
            CornerRadius="10"
            HorizontalOptions="Start" 
            Clicked="OnBackClicked" />

                <!-- Header Name (Centered) -->
                <Label x:Name="HeaderName"
           Grid.Column="1"
           FontSize="18"
                       TextColor="Black"
           FontAttributes="Bold"
           HorizontalOptions="Center"
           VerticalOptions="Center" />

                <!-- Total Record -->
                <Label x:Name="TotalRecord"
           Grid.Column="2"
           VerticalOptions="Center"
           FontAttributes="Bold"
           TextColor="#006a55" />
            </Grid>

            <!-- Final Total Label -->
            <!--<Label x:Name="FinalTotal"  FontSize="24" HorizontalOptions="Center" />-->

            <Grid Margin="0,5,10,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <!-- Left column -->
                    <ColumnDefinition Width="Auto" />
                    <!-- Center column -->
                    <ColumnDefinition Width="*" />
                    <!-- Right column -->
                </Grid.ColumnDefinitions>

                <Label x:Name="TotalFirstWgt"
       Text="Total First Wgt"
       FontSize="14"
       TextColor="#006a55"
       FontAttributes="Bold"
       HorizontalOptions="Start"
       VerticalOptions="Center"
       Grid.Column="0" />

                <Label x:Name="TotalDeducttion"
       Text="Total Deducttion"
       FontSize="14"
       TextColor="#006a55"
       FontAttributes="Bold"
       HorizontalOptions="Center"
       VerticalOptions="Center"
       Grid.Column="1" />

                <Label x:Name="FinalTotal"
       Text="Final Total"
       FontSize="14"
       TextColor="#006a55"
       FontAttributes="Bold"
       HorizontalOptions="End"
       VerticalOptions="Center"
       Grid.Column="2" />

            </Grid>

            <Frame BorderColor="LightBlue" Margin="0,5,0,0" BackgroundColor="#F8F8FF" CornerRadius="10" Padding="8" HasShadow="True" VerticalOptions="FillAndExpand" HorizontalOptions="FillAndExpand">
                <ScrollView >
                    <ListView x:Name="myListView" HasUnevenRows="True">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame HasShadow="True" 
                       Padding="5" 
                       Margin="3" 
                       BorderColor="#006a55" 
                       CornerRadius="5">
                                        <StackLayout Orientation="Horizontal" Padding="10">
                                            <!-- Client Name and Details -->
                                            <StackLayout Orientation="Vertical" HorizontalOptions="FillAndExpand">
                                                <Label Text="{Binding ClientName}" FontSize="16" FontAttributes="Bold" TextColor="Black" />
                                                <Label Text="{Binding FirstWeight,StringFormat='Field Wgt. : {0}'}" TextColor="#006a55"  FontSize="14" FontAttributes="Bold" />
                                                <Label Text="{Binding Deduction,StringFormat='Deduction : {0}'}" TextColor="#006a55" FontSize="14" FontAttributes="Bold"/>
                                                <Label Text="{Binding FinalWeight,StringFormat='Final Wgt. : {0}'}" TextColor="#006a55" FontSize="14" FontAttributes="Bold"/>
                                            </StackLayout>

                                            <!-- Edit Button -->
                                            <Button Text="Edit" 
                            VerticalOptions="Center"   
                                           BackgroundColor="#008CBA"
                                            BorderColor="Gray" 
                                            BorderWidth="1.5" 
                                            CornerRadius="10" 
                                            TextColor="White"
                                                    Clicked="OnEditButtonClicked" 
                            CommandParameter="{Binding .}"/>
                                        </StackLayout>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </ScrollView>
            </Frame>
            <Button x:Name="BtnSentToServer" Grid.Column="2" VerticalOptions="Center" IsVisible="true" 
                    Text="Send To Server" TextColor="White" 
      BackgroundColor="#008CBA"
      BorderColor="Gray"
            
      BorderWidth="1.5"
      CornerRadius="10" Clicked="OnSendToServerClicked" />
        </StackLayout>
    </ContentPage.Content>
</ContentPage>